{"version":3,"sources":["images/Logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","images/Pen.svg","images/Avatar.jpg","components/Main.js","components/Login.js","components/Register.js","components/Footer.js","images/RegOk.svg","images/RegErr.svg","components/PopupWithForm.js","components/DeletePlacePopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","utils/api.js","utils/constants.js","utils/apiAuth.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","isLoggedIn","onLogOut","email","className","src","logo","alt","to","onClick","path","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","setCardDelete","onDeleteCardPopupOpen","currentUser","useContext","isOwner","owner","_id","isLiked","likes","some","like","cardDeleteButtonClassName","cardLikeButtonClassName","type","link","name","length","Main","onEditAvatar","onEditProfile","onEditPlace","cards","avatar","Avatar","Pen","about","map","cardElement","Login","onLogin","useState","password","stateInput","setStateInput","handleChangeInput","e","target","value","onSubmit","preventDefault","noValidate","id","placeholder","minLength","maxLength","onChange","required","Register","onRegister","console","log","Footer","PopupWithForm","isOpen","onClose","title","children","isLoading","buttonSubmitName","buttonSubmitNameDel","DeletePlacePopup","onDeleteCard","ImagePopup","EditProfilePopup","onUpdateUser","useEffect","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlaceSubmit","InfoTooltip","img","api","options","this","_addressApi","addressApi","_headers","headers","endOfUrl","param","fetch","then","res","ok","json","Promise","reject","status","_setConfigApi","data","method","body","JSON","stringify","authorization","BASE_URL","checkResponse","response","Error","statusText","Accept","ProtectedRoute","Component","component","props","App","history","useHistory","setIsLoggedIn","isInfoTooltip","setIsInfoTooltip","isInfoTooltipOk","setIsInfoTooltipOk","isUserEmail","setIsUserEmail","setCards","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","cardDelete","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","selectedCard","setSelectedCard","setIsLoading","closeAllPopups","userInfo","catch","err","getInitialCards","tokenCheck","token","jwt","localStorage","getItem","Authorization","push","Provider","onKeyDown","key","tabIndex","matches","removeItem","apiAuth","setItem","putOrRemoveLike","newCard","cardItem","newAvatar","editAvatar","finally","editProfile","addNewCard","deleteCard","filter","RegOk","RegErr","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.58ce9823.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.9acae848.svg\";","import React from \"react\";\nimport { Link, Route, Switch } from \"react-router-dom\";\nimport logo from \"../images/Logo.svg\";\n\nfunction Header({ isLoggedIn, onLogOut, email }) {\n  return (\n    <header className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={logo}\n        alt=\"Логотип названия сайта Место\"\n      />\n      {isLoggedIn ? (\n        <p className={`header__text`}>\n          {email}\n          <Link\n            className={`header__text header__text_link`}\n            to={\"/signin\"}\n            onClick={onLogOut}\n          >\n            Выйти\n          </Link>\n        </p>\n      ) : (\n        <Switch>\n          <Route path={\"/signin\"}>\n            <Link className={`header__text`} to={\"/signup\"}>\n              Регистрация\n            </Link>\n          </Route>\n          <Route path={\"/signup\"}>\n            <Link className={`header__text`} to={\"/signin\"}>\n              Вход\n            </Link>\n          </Route>\n        </Switch>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Card({\n  card,\n  onCardClick,\n  onCardLike,\n  setCardDelete,\n  onDeleteCardPopupOpen,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwner = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((like) => like._id === currentUser._id);\n\n  const cardDeleteButtonClassName = `element__trash ${\n    isOwner ? \"element__trash_visible\" : \"\"\n  }`;\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"\"\n  }`;\n\n  function handleCardClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    setCardDelete(card);\n    onDeleteCardPopupOpen();\n  }\n  return (\n    <li className=\"element\">\n      <button\n        type=\"button\"\n        onClick={handleDeleteClick}\n        className={cardDeleteButtonClassName}\n      ></button>\n      <img\n        onClick={handleCardClick}\n        className=\"element__image element__image_popup_open\"\n        src={card.link}\n        alt={`Фото: ${card.name}`}\n      />\n      <div className=\"element__card\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__likes-group\">\n          <button\n            type=\"button\"\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n          ></button>\n          <p className=\"element__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/Pen.ae1a976d.svg\";","export default __webpack_public_path__ + \"static/media/Avatar.50a0dcfd.jpg\";","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport Pen from \"../images/Pen.svg\";\r\nimport Avatar from \"../images/Avatar.jpg\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onEditPlace,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  setCardDelete,\r\n  onDeleteCardPopupOpen,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-block\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar || Avatar}\r\n            alt=\"Фотография профиля\"\r\n          />\r\n          <img\r\n            onClick={onEditAvatar}\r\n            className=\"profile__avatar-edit\"\r\n            src={Pen}\r\n            alt=\"Значек редактирования\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__profile-info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button\r\n            onClick={onEditProfile}\r\n            type=\"button\"\r\n            className=\"profile__edit-button\"\r\n          ></button>\r\n          <p className=\"profile__interests\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          onClick={onEditPlace}\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((cardElement) => (\r\n            <Card\r\n              onDeleteCardPopupOpen={onDeleteCardPopupOpen}\r\n              setCardDelete={setCardDelete}\r\n              onCardLike={onCardLike}\r\n              onCardClick={onCardClick}\r\n              card={cardElement}\r\n              key={cardElement._id}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\n\nfunction Login({ onLogin }) {\n  const [stateInput, setStateInput] = React.useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  function handleChangeInput(e) {\n    const { name, value } = e.target;\n    setStateInput({ ...stateInput, [name]: value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onLogin(stateInput);\n  }\n\n  return (\n    <div className={`formAuth`}>\n      <h2 className={`formAuth__form-name`}>Вход</h2>\n      <form onSubmit={handleSubmit} className={`formAuth__form`} noValidate>\n        <fieldset className=\"formAuth__set\">\n          <label className=\"formAuth__field\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              placeholder=\"Email\"\n              className=\"formAuth__input\"\n              minLength={2}\n              maxLength={40}\n              value={stateInput.email || \"\"}\n              onChange={handleChangeInput}\n              required\n            />\n            <span className=\"\" id=\"email-error\"></span>\n          </label>\n          <label className=\"formAuth__field\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              placeholder=\"Пароль\"\n              className=\"formAuth__input\"\n              minLength=\"2\"\n              maxLength=\"200\"\n              value={stateInput.password || \"\"}\n              onChange={handleChangeInput}\n              required\n            />\n            <span className=\"\" id=\"password-error\"></span>\n          </label>\n        </fieldset>\n        <button\n          type=\"submit\"\n          value=\"Отправить на сервер\"\n          className=\"formAuth__button-submit\"\n        >\n          Войти\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register({ onRegister }) {\n  const [stateInput, setStateInput] = React.useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  function handleChangeInput(e) {\n    const { name, value } = e.target;\n    setStateInput({ ...stateInput, [name]: value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(stateInput);\n    onRegister(stateInput);\n  }\n\n  return (\n    <div className={`formAuth`}>\n      <h2 className={`formAuth__form-name`}>Регистрация</h2>\n      <form onSubmit={handleSubmit} className={`formAuth__form`} noValidate>\n        <fieldset className=\"formAuth__set\">\n          <label className=\"formAuth__field\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              placeholder=\"Email\"\n              className=\"formAuth__input\"\n              minLength={2}\n              maxLength={40}\n              value={stateInput.email || \"\"}\n              onChange={handleChangeInput}\n              required\n            />\n            <span className=\"\" id=\"email-error\"></span>\n          </label>\n          <label className=\"formAuth__field\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              placeholder=\"Пароль\"\n              className=\"formAuth__input\"\n              minLength=\"2\"\n              maxLength=\"200\"\n              value={stateInput.password || \"\"}\n              onChange={handleChangeInput}\n              required\n            />\n            <span className=\"\" id=\"password-error\"></span>\n          </label>\n        </fieldset>\n        <button\n          type=\"submit\"\n          value=\"Отправить на сервер\"\n          className={`formAuth__button-submit`}\n        >\n          Зарегистрироваться\n        </button>\n        <p className={`formAuth__signup`}>\n          Уже зарегистрированны?\n          <Link to=\"/signin\" className={`formAuth__signup-link`}>\n            {\" \"}\n            Войти\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n      <footer className=\"footer\">\n        <p className=\"footer__copyright\">&copy; 2020. Mesto Russia</p>\n      </footer>\n    );\n  }\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/RegOk.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/RegErr.df8eddf6.svg\";","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  name,\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  onSubmit,\r\n  isLoading,\r\n  buttonSubmitName,\r\n  buttonSubmitNameDel,\r\n}) {\r\n  return (\r\n    <div className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className={`popup__container`}>\r\n        <button\r\n          onClick={onClose}\r\n          className={`popup__button-close popup__button_close_${name}`}\r\n          type=\"button\"\r\n        ></button>\r\n        <h2 className={`popup__form-name`}>{title}</h2>\r\n        <form\r\n          onSubmit={onSubmit}\r\n          className={`popup__form`}\r\n          name={name}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button\r\n            type=\"submit\"\r\n            value=\"Отправить на сервер\"\r\n            className=\"popup__button popup__button-submit\"\r\n          >\r\n            {isLoading\r\n              ? buttonSubmitNameDel || \"Сохранение...\"\r\n              : buttonSubmitName}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction DeletePlacePopup({ onClose, isOpen, isLoading, onDeleteCard }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      isLoading={isLoading}\r\n      onClose={onClose}\r\n      buttonSubmitName=\"Да\"\r\n      buttonSubmitNameDel=\"Удаление...\"\r\n      name=\"delete-form\"\r\n      title=\"Вы уверены?\"\r\n      className=\"popup popup_delete-form\"\r\n      onSubmit={handleSubmit}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeletePlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div className={`popup ${card && \"popup_opened\"}`} id=\"popup-image\">\r\n      <figure className=\"popup__container-image\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n        ></button>\r\n        <img\r\n          className=\"popup__image\"\r\n          src={`${card ? card.link : \"\"}`}\r\n          alt={card ? card.name : \"\"}\r\n        />\r\n        <figcaption className=\"popup__image-title\">{`${\r\n          card ? card.name : \"\"\r\n        }`}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup({ onClose, isOpen, onUpdateUser, isLoading }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [stateInput, setStateInput] = React.useState({});\n\n  React.useEffect(() => {\n    const { name, about } = currentUser;\n    setStateInput({ name, about });\n  }, [currentUser, isOpen]);\n\n  function handleChangeInput(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    setStateInput({ ...stateInput, [name]: value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name: stateInput.name,\n      about: stateInput.about,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isLoading={isLoading}\n      buttonSubmitName=\"Обновить\"\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"profile-popup\"\n      title=\"Редактировать профиль\"\n    >\n      <fieldset className=\"popup__set\">\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            name=\"name\"\n            id=\"user__name\"\n            placeholder=\"Имя\"\n            className=\"popup__input\"\n            minLength={2}\n            maxLength={40}\n            value={stateInput.name || \"\"}\n            onChange={handleChangeInput}\n            required\n          />\n          <span className=\"popup__input-error\" id=\"user__name-error\"></span>\n        </label>\n        <label className=\"popup-field\">\n          <input\n            type=\"text\"\n            name=\"about\"\n            id=\"about\"\n            placeholder=\"О себе\"\n            className=\"popup__input\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={stateInput.about || \"\"}\n            onChange={handleChangeInput}\n            required\n          />\n          <span className=\"popup__input-error\" id=\"about-error\"></span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditAvatarPopup({ onClose, isOpen, onUpdateAvatar, isLoading }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = \"\";\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      isLoading={isLoading}\r\n      buttonSubmitName=\"Обновить\"\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n      isOpen={isOpen}\r\n      name=\"avatar-form\"\r\n      title=\"Обновить аватар\"\r\n    >\r\n      <fieldset className=\"popup__set\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            ref={avatarRef}\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            name=\"link\"\r\n            id=\"linkAvatar\"\r\n            className=\"popup__input\"\r\n            required\r\n          />\r\n          <span className=\"popup__input-error\" id=\"linkAvatar-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlaceSubmit, isLoading }) {\n  const [stateInput, setStateInput] = React.useState({});\n\n  React.useEffect(() => {\n    setStateInput({});\n  }, [isOpen]);\n\n  function handleChangeInput(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    setStateInput({...stateInput, [name]: value});\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddPlaceSubmit({\n      name: stateInput.name,\n      link: stateInput.link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n      buttonSubmitName=\"Создать\"\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"image-form\"\n      title=\"Новое место\"\n    >\n      <fieldset className=\"popup__set\">\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            placeholder=\"Новое место\"\n            name=\"name\"\n            id=\"name\"\n            className=\"popup__input popup__place\"\n            minLength=\"2\"\n            maxLength=\"30\"\n            value={stateInput.name || ''}\n            onChange={handleChangeInput}\n            required\n          />\n          <span className=\"popup__input-error\" id=\"name-error\"></span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            name=\"link\"\n            id=\"link\"\n            className=\"popup__input\"\n            value={stateInput.link || ''}\n            onChange={handleChangeInput}\n            required\n          />\n          <span className=\"popup__input-error\" id=\"link-error\"></span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nfunction InfoTooltip({ isOpen, onClose, title, img }) {\n  return (\n    <div className={`popup  ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container`}>\n        <button\n          onClick={onClose}\n          className={`popup__button-close-tooltip`}\n          type=\"button\"\n        ></button>\n        <img className={`popup__img-tooltip`} src={img} />\n        <h2 className={`popup__title-tooltip`}>{title}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import {options} from './constants.js'\r\n\r\n class Api {\r\n  constructor(options) {\r\n    this._addressApi = options.addressApi;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _setConfigApi(endOfUrl, param = {\r\n    headers: this._headers,\r\n  }) {\r\n    return fetch(`${this._addressApi}${endOfUrl}`, param)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  userInfo() {\r\n    return this._setConfigApi(\"users/me\")\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._setConfigApi(\"cards\")\r\n  }\r\n\r\n  editProfile(data) {\r\n    return this._setConfigApi(\"users/me\", {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n  }\r\n\r\n  addNewCard(data) {\r\n    return this._setConfigApi(\"cards\", {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return this._setConfigApi(`cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n  }\r\n\r\n  putOrRemoveLike(id, isLiked) {\r\n    return this._setConfigApi(`cards/likes/${id}`, {\r\n    method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: this._headers,\r\n    })\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return this._setConfigApi(\"users/me/avatar\", {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport const api = new Api(options);\r\n","export const options = {\r\n  addressApi: 'https://mesto.nomoreparties.co/v1/cohort-21/',\r\n  headers: {\r\n    authorization: '7369cf7f-a783-416d-9205-2a3b31c3a870',\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n};\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const checkResponse = (response) => {\n  return response.ok ? response.json() : Promise.reject(new Error(`Ошибка ${response.status}: ${response.statusText}`));\n};\n\nconst headers = {\n  Accept: \"application/json\",\n  \"Content-Type\": \"application/json\",\n};\n\nexport const register = ({ password, email }) => {\n  return fetch(`${BASE_URL}/signup`, {\n    headers,\n    method: \"POST\",\n    body: JSON.stringify({ password, email }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const authorize = ({ password, email }) => {\n  return fetch(`${BASE_URL}/signin`, {\n    headers,\n    method: \"POST\",\n    body: JSON.stringify({ password, email }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    headers: { ...headers, Authorization: `Bearer ${token}` },\n    method: \"GET\",\n  }).then((res) => checkResponse(res));\n};\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport { Route, Switch, useHistory, Redirect } from \"react-router-dom\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register\";\nimport Footer from \"./Footer.js\";\nimport RegOk from \"../images/RegOk.svg\";\nimport RegErr from \"../images/RegErr.svg\";\nimport DeletePlacePopup from \"./DeletePlacePopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport { api } from \"../utils/api.js\";\nimport * as apiAuth from \"../utils/apiAuth.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport ProtectedRoute from \"./ProtectedRoute\";\n\nfunction App() {\n  const history = useHistory();\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n  const [isInfoTooltip, setIsInfoTooltip] = React.useState(false);\n  const [isInfoTooltipOk, setIsInfoTooltipOk] = React.useState(false);\n  const [isUserEmail, setIsUserEmail] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [cardDelete, setCardDelete] = React.useState({});\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    api\n      .userInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      });\n  }, []);\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsLoading(true);\n    api\n      .addNewCard(newCard)\n      .then((newCard) => {\n        closeAllPopups();\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsLoading(true);\n    api\n      .editAvatar(newAvatar)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true);\n    api\n      .editProfile(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleDeletePlaceClick() {\n    setIsDeletePlacePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsDeletePlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltip(false);\n    setSelectedCard(null);\n  }\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\n\n    api\n      .putOrRemoveLike(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((cardItem) =>\n            cardItem._id === card._id ? newCard : cardItem\n          )\n        );\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      });\n  }\n\n  function handleCardDelete() {\n    setIsLoading(true);\n    api\n      .deleteCard(cardDelete._id)\n      .then(() => {\n        closeAllPopups();\n        setCards((cards) =>\n          cards.filter((cardItem) =>\n            cardItem._id === cardDelete._id ? false : true\n          )\n        );\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function closePopupEsc(e) {\n    if (e.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }\n\n  function closePopupClickOnOverlay(e) {\n    if (e.target.matches(\".popup\")) {\n      closeAllPopups();\n    }\n  }\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem(\"token\");\n    if (!jwt) {\n      return;\n    }\n    apiAuth\n      .getContent(jwt)\n      .then(({ data: { email } }) => {\n        setIsUserEmail({ email });\n        setIsLoggedIn(true);\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      });\n  };\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      history.push(\"/\");\n    }\n  }, [isLoggedIn]);\n\n  function onRegister(data) {\n    return apiAuth\n      .register(data)\n      .then(() => {\n        setIsInfoTooltipOk(true);\n        setIsInfoTooltip(true);\n        setIsLoggedIn(true);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setIsInfoTooltip(true);\n        console.log(`${err}`);\n      });\n  }\n\n  function onLogin({ email, password }) {\n    return apiAuth\n      .authorize({ email, password })\n      .then(({ token }) => {\n        setIsUserEmail({ email });\n        setIsInfoTooltipOk(true);\n        setIsLoggedIn(true);\n        localStorage.setItem(\"token\", token);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setIsInfoTooltip(true);\n        console.log(`${err}`);\n      });\n  }\n\n  function onLogOut() {\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"token\");\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div\n        className=\"page\"\n        onKeyDown={closePopupEsc}\n        tabIndex=\"0\"\n        onClick={closePopupClickOnOverlay}\n      >\n        <Header\n          email={isUserEmail.email}\n          onLogOut={onLogOut}\n          isLoggedIn={isLoggedIn}\n        />\n        <Switch>\n          <Route path=\"/signup\">\n            <Register onRegister={onRegister} />\n          </Route>\n          <Route path=\"/signin\">\n            <Login onLogin={onLogin} />\n          </Route>\n          <ProtectedRoute\n            path=\"/\"\n            component={Main}\n            isLoggedIn={isLoggedIn}\n            cards={cards}\n            onCardLike={handleCardLike}\n            setCardDelete={setCardDelete}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onDeleteCardPopupOpen={handleDeletePlaceClick}\n            onEditPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n          />\n        </Switch>\n        <Route>\n          {isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n        </Route>\n        {isLoggedIn && <Footer />}\n        <EditAvatarPopup\n          isLoading={isLoading}\n          onUpdateAvatar={handleUpdateAvatar}\n          onClose={closeAllPopups}\n          isOpen={isEditAvatarPopupOpen}\n        />\n        <EditProfilePopup\n          isLoading={isLoading}\n          onUpdateUser={handleUpdateUser}\n          onClose={closeAllPopups}\n          isOpen={isEditProfilePopupOpen}\n        />\n        <AddPlacePopup\n          isLoading={isLoading}\n          onAddPlaceSubmit={handleAddPlaceSubmit}\n          onClose={closeAllPopups}\n          isOpen={isAddPlacePopupOpen}\n        />\n        <DeletePlacePopup\n          isLoading={isLoading}\n          onDeleteCard={handleCardDelete}\n          onClose={closeAllPopups}\n          isOpen={isDeletePlacePopupOpen}\n        />\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n        <InfoTooltip\n          onClose={closeAllPopups}\n          isOpen={isInfoTooltip}\n          title={\n            isInfoTooltipOk\n              ? \"Вы успешно зарегистрировались!\"\n              : \"Что-то пошло не так! Попробуйте ещё раз.\"\n          }\n          img={isInfoTooltipOk ? RegOk : RegErr}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}